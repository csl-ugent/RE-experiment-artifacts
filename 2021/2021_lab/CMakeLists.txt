cmake_minimum_required(VERSION 3.10.2)
cmake_policy(VERSION 3.10.2)
project(experiments)

# Generate a compilation database
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# Set C standard: We're limited by what Tigress can handle
# Also ignore common warnings generated by Tigress compilation..
set(CMAKE_C_FLAGS "-std=gnu99 -Wno-unknown-attributes -Wno-incompatible-library-redeclaration -Wno-builtin-requires-header ${CMAKE_C_FLAGS}")
# Strip binaries in Release build
set(CMAKE_EXE_LINKER_FLAGS_RELEASE "-s")

# Set the output directories
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/bin)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/bin)

# when building, don't use the install RPATH already
# (but later on when installing)
set(CMAKE_BUILD_WITH_INSTALL_RPATH TRUE)

# the RPATH to be used when installing
set(CMAKE_INSTALL_RPATH ".")


# New tasks
add_subdirectory(shared)
add_subdirectory(challenge_1)
add_subdirectory(challenge_2a)
add_subdirectory(challenge_2b)
add_subdirectory(challenge_2c)
